<html>
    <head>
        <title>Manabie Internship challenge</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./styte.css">
    </head>

    <body>
        <!-- Please help add CSS to make this title only display on one line and add tooltip to view full text -->
        <h1 id="Manabie__title">
            Title - Welcome to Manabie internship coding challenge. Thank you
            for interested in our vacancy of Frontend Engineer. As discussed, we
            would love to have a more in depth conversation with you
        </h1>

        <main>
            <h3>Requirement</h3>
            <ul>
                <li>
                    Please help add CSS to make
                    <span class="Manabie__quote">h1#Manabie__title</span> only
                    display on one line. And add tooltip to view full text when
                    hovering on element
                </li>
                <li>
                    Moving
                    <span class="Manabie__quote">footer#Manabie__footer</span>
                    to bottom of the screen
                </li>
                <li>
                    Fetching data from Rest API
                    <a target="_blank" href="https://zwxiws.sse.codesandbox.io/"
                        >https://zwxiws.sse.codesandbox.io/</a
                    >
                    to display on table. For status column, if battery grather
                    than 90 the status is good, the other is bad
                </li>
                <li>
                    Bonus: If you have time please kindly help add CSS to make
                    <span class="Manabie__quote">table#Manabie__table</span>
                    look beautiful than now
                </li>
            </ul>
            <h3>Table - Manabie Device sheet</h3>
            <table id="Manabie__table">
                <tr class="table">
                    <th>ID</th>
                    <th>Name</th>
                    <th>OS</th>
                    <th>Battery</th>
                    <!-- If Battery grather than 90 the status is good, the other is bad -->
                    <th>Status</th>
                </tr>
            </table>
        </main>

        <!-- Moving footer on the bottom of the screen -->
        <footer id="Manabie__footer">
            <p>Footer - Manabie challenge</p>
        </footer>
    </body>

    <script>
        function addNewCellInTable(data) {
            var table = document.getElementById("Manabie__table");
            var row = table.insertRow(1); // the first row is hearder
            var cellID = row.insertCell(0);
            var cellName = row.insertCell(1);
            var cellOS = row.insertCell(2);
            var cellBattery = row.insertCell(3);
            // If Battery grather than 90 the status is good, the other is bad
            var cellStatus = row.insertCell(4);

            cellID.innerHTML = data.id;
            cellName.innerHTML = data.name;
            cellOS.innerHTML = data.os;
            cellBattery.innerHTML = data.battery;
            if(data.battery > 90)
                cellStatus.innerHTML = "Good";
            else
                cellStatus.innerHTML = "Bad";
        }
        addNewCellInTable();
    </script>

    <script>
        const endpoint = 'https://csb-zwxiws-mz0cv12ha-vctqs1.vercel.app/';
        const tr = document.getElementById('Manabie__table');
            let sheet;
            let Manabie_devive;

            fetch(endpoint)
            .then((response) => response.json())
            .then((data) =>
            {
                data.sort(function(a, b) {
                    if (a.id < b.id)
                        return 1;
                    if (a.id > b.id)
                        return -1;
                    return 0;
                })
                for(var i=0;i<data.length;i++)
                {
                    addNewCellInTable(data[i])
                }
            });

    </script>

</html>
